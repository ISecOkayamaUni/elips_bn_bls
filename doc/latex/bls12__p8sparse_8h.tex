\hypertarget{bls12__p8sparse_8h}{}\section{include/\+E\+Li\+P\+S\+\_\+bn\+\_\+bls/bls12\+\_\+p8sparse.h File Reference}
\label{bls12__p8sparse_8h}\index{include/\+E\+Li\+P\+S\+\_\+bn\+\_\+bls/bls12\+\_\+p8sparse.\+h@{include/\+E\+Li\+P\+S\+\_\+bn\+\_\+bls/bls12\+\_\+p8sparse.\+h}}
{\ttfamily \#include $<$E\+Li\+P\+S\+\_\+bn\+\_\+bls/bn\+\_\+efp2.\+h$>$}\newline
Include dependency graph for bls12\+\_\+p8sparse.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{bls12__p8sparse_8h_a8d0191550910276d37cdc20f1f11d3d7}{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping} (\hyperlink{struct_e_fp}{E\+Fp} $\ast$P, \hyperlink{struct_e_fp2}{E\+Fp2} $\ast$Q, \hyperlink{struct_fp}{Fp} $\ast$L)
\item 
void \hyperlink{bls12__p8sparse_8h_a12e66a107c192d4b73a29140c2a6d97d}{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul} (\hyperlink{struct_fp12}{Fp12} $\ast$A\+NS, \hyperlink{struct_fp12}{Fp12} $\ast$A, \hyperlink{struct_fp12}{Fp12} $\ast$B)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Interaface for B\+L\+S12 Pseudo 8-\/sparse multplication in Miller\textquotesingle{}s algo of tate pairing \href{https://eprint.iacr.org/2017/1174.pdf}{\tt https\+://eprint.\+iacr.\+org/2017/1174.\+pdf} 

\subsection{Function Documentation}
\mbox{\Hypertarget{bls12__p8sparse_8h_a8d0191550910276d37cdc20f1f11d3d7}\label{bls12__p8sparse_8h_a8d0191550910276d37cdc20f1f11d3d7}} 
\index{bls12\+\_\+p8sparse.\+h@{bls12\+\_\+p8sparse.\+h}!bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping@{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping}}
\index{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping@{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping}!bls12\+\_\+p8sparse.\+h@{bls12\+\_\+p8sparse.\+h}}
\subsubsection{\texorpdfstring{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping()}{bls12\_Pseudo\_8\_sparse\_mapping()}}
{\footnotesize\ttfamily void bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mapping (\begin{DoxyParamCaption}\item[{\hyperlink{struct_e_fp}{E\+Fp} $\ast$}]{P,  }\item[{\hyperlink{struct_e_fp2}{E\+Fp2} $\ast$}]{Q,  }\item[{\hyperlink{struct_fp}{Fp} $\ast$}]{L }\end{DoxyParamCaption})}

Calculate Precomputations for Pseudo 8-\/sparse multplication and Millers algo.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em P} & -\/ P in G1 \\
\hline
\mbox{\tt in}  & {\em Q} & -\/ Q in G2. \\
\hline
\mbox{\tt in}  & {\em L} & -\/ L in \hyperlink{struct_fp}{Fp} from Miller\textquotesingle{}s algo. \\
\hline
\end{DoxyParams}


References E\+Fp\+\_\+clear(), E\+Fp\+\_\+init(), and E\+Fp\+\_\+set().



Referenced by bls12\+\_\+\+Miller\+\_\+algo\+\_\+for\+\_\+opt\+\_\+ate(), and bls12\+\_\+\+Miller\+\_\+algo\+\_\+for\+\_\+plain\+\_\+ate().


\begin{DoxyCode}
31                                                         \{
32     \hyperlink{struct_e_fp2}{EFp2} Tmp\_Q;
33     EFp2\_init(&Tmp\_Q);
34     \hyperlink{struct_e_fp}{EFp} Tmp\_P;
35     \hyperlink{bn__efp_8h_a2b1c0fe61a09134e31640f1565a48ed1}{EFp\_init}(&Tmp\_P);
36     \hyperlink{struct_fp}{Fp} A,B,C,D,c;
37     Fp\_init(&A);
38     Fp\_init(&B);
39     Fp\_init(&C);
40     Fp\_init(&D);
41     Fp\_init(&c);
42     
43     \hyperlink{bn__efp_8h_abb438750cc5bfec2da8cd2f3863a985f}{EFp\_set}(&Tmp\_P,P);
44     EFp2\_set(&Tmp\_Q,Q);
45     
46     Fp\_mul(&A,&Tmp\_P.x,&Tmp\_P.y);
47     Fp\_inv(&A,&A);
48     Fp\_mul(&B,&Tmp\_P.x,&Tmp\_P.x);
49     Fp\_mul(&B,&B,&A);
50     Fp\_mul(&C,&Tmp\_P.y,&A);
51     Fp\_mul(&D,&B,&B);
52     
53     Fp2\_mul\_mpz(&Q->x,&Tmp\_Q.x,D.x0);
54     Fp\_mul(&c,&B,&D);
55     Fp2\_mul\_mpz(&Q->y,&Tmp\_Q.y,c.x0);
56     
57     Fp\_mul(&P->x,&D,&Tmp\_P.x);
58     Fp\_set(&P->y,&P->x);
59     
60     Fp\_mul(L,&C,&Tmp\_P.y);
61     Fp\_mul(L,L,L);
62     Fp\_mul(L,L,&C);
63     
64     
65     EFp2\_clear(&Tmp\_Q);
66     \hyperlink{bn__efp_8h_a8d12aae9ceed0cf06fffc1dc2c2aae40}{EFp\_clear}(&Tmp\_P);
67     Fp\_clear(&A);
68     Fp\_clear(&B);
69     Fp\_clear(&C);
70     Fp\_clear(&D);
71     Fp\_clear(&c);
72 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{bls12__p8sparse_8h_a12e66a107c192d4b73a29140c2a6d97d}\label{bls12__p8sparse_8h_a12e66a107c192d4b73a29140c2a6d97d}} 
\index{bls12\+\_\+p8sparse.\+h@{bls12\+\_\+p8sparse.\+h}!bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul@{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul}}
\index{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul@{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul}!bls12\+\_\+p8sparse.\+h@{bls12\+\_\+p8sparse.\+h}}
\subsubsection{\texorpdfstring{bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul()}{bls12\_Pseudo\_8\_sparse\_mul()}}
{\footnotesize\ttfamily void bls12\+\_\+\+Pseudo\+\_\+8\+\_\+sparse\+\_\+mul (\begin{DoxyParamCaption}\item[{\hyperlink{struct_fp12}{Fp12} $\ast$}]{A\+NS,  }\item[{\hyperlink{struct_fp12}{Fp12} $\ast$}]{A,  }\item[{\hyperlink{struct_fp12}{Fp12} $\ast$}]{B }\end{DoxyParamCaption})}

Calculate Precomputations for Pseudo 8-\/sparse multplication and Millers algo.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em A\+NS} & -\/ output of Pseudo 8-\/sparse multplication \\
\hline
\mbox{\tt in}  & {\em A} & -\/ \hyperlink{struct_fp12}{Fp12} vector. \\
\hline
\mbox{\tt in}  & {\em B} & -\/ \hyperlink{struct_fp12}{Fp12} vector. \\
\hline
\end{DoxyParams}


Referenced by bls12\+\_\+f\+\_\+ltq(), and bls12\+\_\+ff\+\_\+ltt().


\begin{DoxyCode}
74                                                          \{
75     \textcolor{comment}{//A= f0 + f1γ^2 + f2γ^4 + f3γ　+ f4γ^3 + f5γ^5}
76     \textcolor{comment}{//B= 1  +                        aγ^3 +  bγ^5}
77     \textcolor{comment}{// x0.x0  x0.x1   x0.x2  x1.x0  x1.x1   x1.x2}
78     \hyperlink{struct_fp12}{Fp12} ans;
79     Fp12\_init(&ans);
80     \hyperlink{struct_fp2}{Fp2} tmp0,tmp1,tmp2,tmp3;
81     Fp2\_init(&tmp0);
82     Fp2\_init(&tmp1);
83     Fp2\_init(&tmp2);
84     Fp2\_init(&tmp3);
85     
86     Fp2\_mul(&tmp0,&A->x0.x0,&B->x1.x1);        \textcolor{comment}{//tmp0←a*f0}
87     Fp2\_mul(&tmp1,&A->x0.x1,&B->x1.x2);        \textcolor{comment}{//tmp1←b*f1}
88     Fp2\_add(&tmp2,&A->x0.x0,&A->x0.x1);        \textcolor{comment}{//tmp2←f0+f1}
89     Fp2\_add(&tmp3,&B->x1.x1,&B->x1.x2);        \textcolor{comment}{//tmp3←a+b}
90     Fp2\_mul(&tmp2,&tmp2,&tmp3);            \textcolor{comment}{//tmp2←tmp2*tmp3}
91     Fp2\_sub(&tmp2,&tmp2,&tmp0);            \textcolor{comment}{//tmp2←tmp2-tmp0}
92     Fp2\_sub(&tmp2,&tmp2,&tmp1);            \textcolor{comment}{//tmp2←tmp2-tmp1}
93     
94     Fp2\_add(&ans.x1.x2,&tmp2,&A->x1.x2);    \textcolor{comment}{//ans[γ^5]←tmp2+f5}
95     Fp2\_add(&ans.x1.x1,&tmp0,&A->x1.x1);    \textcolor{comment}{//ans[γ^3]←tmp0+f4}
96     Fp2\_mul(&tmp2,&A->x0.x2,&B->x1.x2);        \textcolor{comment}{//tmp2←b*f2}
97     Fp2\_mul\_basis(&tmp2,&tmp2);            \textcolor{comment}{//tmp2←tmp2*α}
98     Fp2\_add(&ans.x1.x1,&ans.x1.x1,&tmp2);    \textcolor{comment}{//ans[γ^3]←ans[γ^3]+tmp2}
99     Fp2\_mul(&tmp0,&A->x0.x2,&B->x1.x1);        \textcolor{comment}{//tmp0←a*f2}
100     Fp2\_add(&tmp0,&tmp0,&tmp1);            \textcolor{comment}{//tmp0←tmp0+tmp1}
101     Fp2\_mul\_basis(&tmp0,&tmp0);            \textcolor{comment}{//tmp0←tmp0*α}
102     Fp2\_add(&ans.x1.x0,&tmp0,&A->x1.x0);    \textcolor{comment}{//ans[γ]←tmp0+f3}
103     
104     Fp2\_mul(&tmp0,&A->x1.x0,&B->x1.x1);        \textcolor{comment}{//tmp0←a*f3}
105     Fp2\_mul(&tmp1,&A->x1.x1,&B->x1.x2);        \textcolor{comment}{//tmp1←b*f4}
106     Fp2\_add(&tmp2,&A->x1.x0,&A->x1.x1);        \textcolor{comment}{//tmp2←f3+f4}
107     Fp2\_mul(&tmp2,&tmp2,&tmp3);            \textcolor{comment}{//tmp2←tmp2+tmp3}
108     Fp2\_sub(&tmp2,&tmp2,&tmp0);            \textcolor{comment}{//tmp2←tmp2-tmp0}
109     Fp2\_sub(&tmp2,&tmp2,&tmp1);            \textcolor{comment}{//tmp2←tmp2-tmp1}
110     
111     Fp2\_mul\_basis(&tmp2,&tmp2);            \textcolor{comment}{//tmp2←tmp2*α}
112     Fp2\_add(&ans.x0.x0,&tmp2,&A->x0.x0);    \textcolor{comment}{//ans[1]←tmp2+f0}
113     
114     Fp2\_mul(&tmp2,&A->x1.x2,&B->x1.x1);        \textcolor{comment}{//tmp2←a*f5}
115     Fp2\_add(&tmp2,&tmp1,&tmp2);            \textcolor{comment}{//tmp2←tmp1+tmp2}
116     Fp2\_mul\_basis(&tmp2,&tmp2);            \textcolor{comment}{//tmp2←tmp2*α}
117     Fp2\_add(&ans.x0.x1,&tmp2,&A->x0.x1);    \textcolor{comment}{//ans[γ^2]←tmp2+f1}
118     Fp2\_mul(&tmp3,&A->x1.x2,&B->x1.x2);        \textcolor{comment}{//tmp3←b*f5}
119     Fp2\_mul\_basis(&tmp3,&tmp3);            \textcolor{comment}{//tmp3←tmp3*α}
120     
121     Fp2\_add(&tmp0,&tmp0,&tmp3);            \textcolor{comment}{//tmp0←tmp0+tmp3}
122     Fp2\_add(&ans.x0.x2,&tmp0,&A->x0.x2);    \textcolor{comment}{//ans[γ^2]←tmp0+f2}
123     
124     Fp12\_set(ANS,&ans);
125     
126     Fp12\_clear(&ans);
127     Fp2\_clear(&tmp0);
128     Fp2\_clear(&tmp1);
129     Fp2\_clear(&tmp2);
130     Fp2\_clear(&tmp3);
131 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 4
